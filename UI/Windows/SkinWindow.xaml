<Window x:Class="FS服装搭配专家v1._0.SkinWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="皮肤设置"
        Height="500"
        Width="700"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent">
    <Window.Resources>
        <!-- 颜色资源 -->
        <SolidColorBrush x:Key="GlassCardColor" Color="#15FFFFFF" />
        <SolidColorBrush x:Key="GlassCardHoverColor" Color="#40FFFFFF" />
        <SolidColorBrush x:Key="GlassBorderColor" Color="#4DFFFFFF" />
        <SolidColorBrush x:Key="GlassHighlightColor" Color="#20FFFFFF" />
        <SolidColorBrush x:Key="TextColor" Color="#FFFFFFFF" />
        <SolidColorBrush x:Key="ButtonGlassColor" Color="#25FFFFFF" />
        <SolidColorBrush x:Key="ButtonGlassPressedColor" Color="#40FFFFFF" />
        <SolidColorBrush x:Key="BodyTextColor" Color="#E6FFFFFF" />
        
        <!-- 主容器样式 -->
        <Style x:Key="MainContainer" TargetType="Border">
            <Setter Property="Background" Value="{StaticResource GlassCardColor}" />
            <Setter Property="CornerRadius" Value="16" />
            <Setter Property="Margin" Value="10" />
            <Setter Property="Padding" Value="24" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="BorderBrush" Value="{StaticResource GlassHighlightColor}" />
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect BlurRadius="40" 
                                      ShadowDepth="12" 
                                      Opacity="0.15" 
                                      Direction="270" 
                                      Color="#000000" />
                </Setter.Value>
            </Setter>
        </Style>
        
        <!-- 标题栏容器样式 -->
        <Style x:Key="TitleBarContainer" TargetType="Border">
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="CornerRadius" Value="16" />
            <Setter Property="Margin" Value="0" />
            <Setter Property="Padding" Value="20" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="BorderBrush" Value="Transparent" />
        </Style>
        
        <!-- 玻璃拟态按钮样式 -->
        <Style x:Key="GlassButton" TargetType="Button">
            <Setter Property="Background" Value="{StaticResource ButtonGlassColor}" />
            <Setter Property="Foreground" Value="{StaticResource TextColor}" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="BorderBrush" Value="{StaticResource GlassHighlightColor}" />
            <Setter Property="Padding" Value="18,10" />
            <Setter Property="Margin" Value="10" />
            <Setter Property="Cursor" Value="Hand" />
            <Setter Property="FontWeight" Value="600" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="ButtonBorder" 
                                CornerRadius="16" 
                                Background="{TemplateBinding Background}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                BorderBrush="{TemplateBinding BorderBrush}">
                            <ContentPresenter x:Name="ContentPresenter" 
                                              HorizontalAlignment="Center" 
                                              VerticalAlignment="Center" 
                                              TextElement.Foreground="{TemplateBinding Foreground}" 
                                              TextElement.FontWeight="{TemplateBinding FontWeight}" />
                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroup x:Name="CommonStates">
                                    <VisualState x:Name="Normal" />
                                    <VisualState x:Name="MouseOver">
                                        <Storyboard>
                                            <ColorAnimation Storyboard.TargetName="ButtonBorder" 
                                                            Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Color)" 
                                                            To="#40FFFFFF" 
                                                            Duration="0:0:0.2" />
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="Pressed">
                                        <Storyboard>
                                            <ColorAnimation Storyboard.TargetName="ButtonBorder" 
                                                            Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Color)" 
                                                            To="#40FFFFFF" 
                                                            Duration="0:0:0.1" />
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                            </VisualStateManager.VisualStateGroups>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect BlurRadius="16" 
                                      ShadowDepth="4" 
                                      Opacity="0.1" 
                                      Direction="270" 
                                      Color="#000000" />
                </Setter.Value>
            </Setter>
        </Style>
        
        <!-- 窗口管理按钮样式 -->
        <Style x:Key="WindowButton" TargetType="Button">
            <Setter Property="Background" Value="{StaticResource ButtonGlassColor}" />
            <Setter Property="Foreground" Value="{StaticResource TextColor}" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="BorderBrush" Value="{StaticResource GlassHighlightColor}" />
            <Setter Property="Padding" Value="14,7" />
            <Setter Property="Margin" Value="6" />
            <Setter Property="Cursor" Value="Hand" />
            <Setter Property="MinWidth" Value="60" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="ButtonBorder" 
                                CornerRadius="8" 
                                Background="{TemplateBinding Background}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                BorderBrush="{TemplateBinding BorderBrush}">
                            <ContentPresenter x:Name="ContentPresenter" 
                                              Content="{TemplateBinding Content}"
                                              HorizontalAlignment="Center" 
                                              VerticalAlignment="Center" 
                                              TextElement.Foreground="{TemplateBinding Foreground}"
                                              TextElement.FontSize="12"
                                              TextElement.FontWeight="Medium" />
                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroup x:Name="CommonStates">
                                    <VisualState x:Name="Normal" />
                                    <VisualState x:Name="MouseOver">
                                        <Storyboard>
                                            <ColorAnimation Storyboard.TargetName="ButtonBorder" 
                                                            Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Color)" 
                                                            To="#40FFFFFF" 
                                                            Duration="0:0:0.2" />
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="Pressed">
                                        <Storyboard>
                                            <ColorAnimation Storyboard.TargetName="ButtonBorder" 
                                                            Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Color)" 
                                                            To="#40FFFFFF" 
                                                            Duration="0:0:0.1" />
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                            </VisualStateManager.VisualStateGroups>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect BlurRadius="8" 
                                      ShadowDepth="2" 
                                      Opacity="0.1" 
                                      Direction="270" 
                                      Color="#000000" />
                </Setter.Value>
            </Setter>
        </Style>
        
        <!-- 皮肤项样式 -->
        <Style x:Key="SkinItemStyle" TargetType="Border">
            <Setter Property="Background" Value="#1AFFFFFF" />
            <Setter Property="CornerRadius" Value="12" />
            <Setter Property="Margin" Value="8" />
            <Setter Property="Padding" Value="12" />
            <Setter Property="Cursor" Value="Hand" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="BorderBrush" Value="#33FFFFFF" />
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect BlurRadius="8" 
                                      ShadowDepth="2" 
                                      Opacity="0.05" 
                                      Direction="270" 
                                      Color="#000000" />
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#33FFFFFF" />
                </Trigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>
    
    <!-- 渐变背景 -->
    <Grid>
        <Grid.Background>
            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                <GradientStop Color="#6a85b6" Offset="0" />
                <GradientStop Color="#bac8e0" Offset="0.5" />
                <GradientStop Color="#f0c9e8" Offset="1" />
            </LinearGradientBrush>
        </Grid.Background>
        
        <!-- 窗口拖动区域 -->
        <Grid Background="Transparent" MouseLeftButtonDown="TitleBar_MouseLeftButtonDown" />
        
        <!-- 主内容区域 -->
        <Border Style="{StaticResource MainContainer}">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="60" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="80" />
                </Grid.RowDefinitions>
            
            <!-- 顶部标题栏卡片 -->
            <Border Grid.Row="0" Style="{StaticResource TitleBarContainer}" MouseLeftButtonDown="TitleBar_MouseLeftButtonDown">
                <Grid Height="40">
                    <TextBlock Text="皮肤设置" 
                               FontSize="18" 
                               FontWeight="Bold" 
                               Foreground="White"
                               VerticalAlignment="Center" 
                               HorizontalAlignment="Left" />
                    <StackPanel Orientation="Horizontal" 
                                HorizontalAlignment="Right" 
                                VerticalAlignment="Center">
                        <Button Content="关闭" 
                                Width="60" 
                                Style="{StaticResource WindowButton}" 
                                Click="Close_Click" />
                    </StackPanel>
                </Grid>
            </Border>
            
            <!-- 中间内容 -->
            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                
                <!-- 左侧皮肤列表 -->
                <Border Grid.Column="0" Padding="16" CornerRadius="16" Background="Transparent">
                    <Grid>
                        <TextBlock Text="可用皮肤" 
                                   FontSize="16" 
                                   FontWeight="600" 
                                   Foreground="{StaticResource TextColor}"
                                   Margin="0,0,0,16" />
                        <ListBox x:Name="lstSkins" 
                                 Margin="0,40,0,0" 
                                 SelectionChanged="lstSkins_SelectionChanged"
                                 Background="Transparent"
                                 BorderThickness="0">
                            <ListBox.ItemTemplate>
                                <DataTemplate>
                                    <Border Style="{StaticResource SkinItemStyle}">
                                        <TextBlock Text="{Binding Name}" 
                                                   FontSize="14" 
                                                   FontWeight="Medium" 
                                                   Foreground="{StaticResource TextColor}" />
                                    </Border>
                                </DataTemplate>
                            </ListBox.ItemTemplate>
                            <ListBox.Resources>
                                <Style TargetType="ListBoxItem">
                                    <Setter Property="Background" Value="Transparent" />
                                    <Setter Property="BorderThickness" Value="0" />
                                    <Setter Property="Padding" Value="0" />
                                    <Setter Property="Margin" Value="0" />
                                    <Style.Triggers>
                                        <Trigger Property="IsSelected" Value="True">
                                            <Setter Property="Background" Value="Transparent" />
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </ListBox.Resources>
                        </ListBox>
                    </Grid>
                </Border>
                
                <!-- 右侧皮肤预览 -->
                <Border Grid.Column="1" Padding="16" CornerRadius="16" Background="Transparent">
                    <Grid>
                        <TextBlock Text="皮肤预览" 
                                   FontSize="16" 
                                   FontWeight="600" 
                                   Foreground="{StaticResource TextColor}"
                                   Margin="0,0,0,16" />
                        <Border x:Name="previewBorder" 
                                Margin="0,40,0,0" 
                                Height="200" 
                                CornerRadius="12" 
                                BorderThickness="1" 
                                BorderBrush="{StaticResource GlassHighlightColor}">
                            <Grid x:Name="previewGrid">
                                <TextBlock Text="预览区域" 
                                           FontSize="14" 
                                           Foreground="{StaticResource TextColor}"
                                           HorizontalAlignment="Center" 
                                           VerticalAlignment="Center" />
                            </Grid>
                        </Border>
                        <TextBlock x:Name="txtSkinInfo" 
                                   FontSize="14" 
                                   Foreground="{StaticResource BodyTextColor}"
                                   Margin="0,260,0,0" />
                    </Grid>
                </Border>
            </Grid>
            
            <!-- 底部按钮 -->
            <Grid Grid.Row="2">
                <StackPanel Orientation="Horizontal" 
                            HorizontalAlignment="Center" 
                            VerticalAlignment="Center">
                    <Button Content="应用" 
                            Style="{StaticResource GlassButton}" 
                            Click="Apply_Click" />
                    <Button Content="取消" 
                            Style="{StaticResource GlassButton}" 
                            Click="Cancel_Click" />
                </StackPanel>
            </Grid>
            </Grid>
        </Border>
    </Grid>
</Window>